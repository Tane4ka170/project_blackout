{"version":3,"file":"static/js/186.c5b49d32.chunk.js","mappings":"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","sources":["pages/Expense/Expense.jsx"],"sourcesContent":["import { Filter } from 'components/filter/Filter';\nimport { selectFilter, selectStartDate } from 'redux/filter/filterSelector';\nimport {\n  deleteTransactionThunk,\n  getTransactionsThunk,\n} from 'redux/transactions/operations';\nimport { selectTransaction } from 'redux/transactions/selectors';\nimport { SectionTransaction } from 'components/sectionTransactionList/sectionTransaction';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport {\n  DIVL,\n  DIVMAIN,\n  DIVTR,\n  DelBtn,\n  EditBtn,\n  H2,\n  LI,\n  P1,\n  P2,\n  P3,\n  P4,\n  P5,\n  PH,\n  TransactionsContainer,\n  ULL,\n  DIV,\n  PEr,\n  DIV375,\n  MainWr,\n} from 'pages/Income/Income.styled';\nimport { TotalExpense, TotalIncome } from 'shared/Total';\nimport svg from '../../images/Sprite.svg';\nimport { motion } from 'framer-motion';\nimport { selectIsLoggedIn } from 'redux/auth/selectors';\nimport { Navigate } from 'react-router-dom';\n\nconst Expense = () => {\n  const dispatch = useDispatch();\n  const filter = useSelector(selectFilter);\n\n  const isLoggedIn = useSelector(selectIsLoggedIn);\n  const transactions = useSelector(selectTransaction);\n  const date = useSelector(selectStartDate);\n\n  const formattedDate = `${date.year}-${String(date.month).padStart(\n    2,\n    '0'\n  )}-${String(date.day).padStart(2, '0')}`;\n\n  useEffect(() => {\n    // const nowDate = new Date();\n    // if (!date) {\n    //   const year = nowDate.getFullYear();\n    //   const month = nowDate.getMonth() + 1;\n    //   const day = nowDate.getDate();\n    //   dispatch(\n    //     getTransactionsThunk({ type: 'incomes', date: { year, month, day } })\n    //   );\n    // }\n    dispatch(getTransactionsThunk({ type: 'expenses', date: formattedDate }));\n  }, [dispatch, filter, formattedDate, date]);\n\n  const handleDelete = (transactionId, transactionComment) => {\n    dispatch(deleteTransactionThunk(transactionId));\n    toast.success(`Transaction ${transactionComment} was deleted`);\n  };\n\n  const filterTransactions = transactions.filter(transaction =>\n    transaction.comment\n      .toLowerCase()\n      .trim()\n      .includes(filter.toLowerCase().trim())\n  );\n\n  if (!isLoggedIn) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  return (\n    <MainWr>\n      <DIVMAIN>\n        <DIVL>\n          <H2>All Expense</H2>\n          <PH>\n            View and manage every transaction seamlessly! Your entire financial\n            landscape, all in one place.\n          </PH>\n        </DIVL>\n        <ULL>\n          <LI>\n            <TotalIncome />\n          </LI>\n          <LI>\n            <TotalExpense />\n          </LI>\n        </ULL>\n      </DIVMAIN>\n\n      <motion.div\n        initial={{ y: '100%' }}\n        animate={{ y: 0 }}\n        transition={{ type: 'spring', stiffness: 200, damping: 20 }}\n      >\n        <DIVTR>\n          <Filter />\n          <DIV375>\n            <SectionTransaction />\n            {filterTransactions?.length ? (\n              <TransactionsContainer>\n                {transactions?.map(transaction => (\n                  <DIV key={transaction._id}>\n                    <P1>{transaction.category.categoryName}</P1>\n                    <P2>{transaction.comment}</P2>\n                    <P3>{transaction.date}</P3>\n                    <P4>{transaction.time}</P4>\n                    <P5>{transaction.sum}</P5>\n                    <EditBtn>\n                      <svg width={16} height={16}>\n                        <use href={svg + '#icon-edit-2'}></use>\n                      </svg>\n                      <span>Edit</span>\n                    </EditBtn>\n                    <DelBtn\n                      onClick={() =>\n                        handleDelete(transaction._id, transaction.comment)\n                      }\n                    >\n                      <svg width={16} height={16}>\n                        <use href={svg + '#icon-trash-2'}></use>\n                      </svg>\n                      <span>Delete</span>\n                    </DelBtn>\n                  </DIV>\n                ))}\n              </TransactionsContainer>\n            ) : null}\n            {filter.trim().length > 0 && !filterTransactions.length && (\n              <PEr>\n                We couldn't find any transactions matching your request.\n              </PEr>\n            )}\n          </DIV375>\n        </DIVTR>\n      </motion.div>\n    </MainWr>\n  );\n};\nexport default Expense;\n"],"names":["dispatch","useDispatch","filter","useSelector","selectFilter","isLoggedIn","selectIsLoggedIn","transactions","selectTransaction","date","selectStartDate","formattedDate","concat","year","String","month","padStart","day","useEffect","getTransactionsThunk","type","filterTransactions","transaction","comment","toLowerCase","trim","includes","_jsxs","MainWr","children","DIVMAIN","DIVL","_jsx","H2","PH","ULL","LI","TotalIncome","TotalExpense","motion","initial","y","animate","transition","stiffness","damping","DIVTR","Filter","DIV375","SectionTransaction","length","TransactionsContainer","map","DIV","P1","category","categoryName","P2","P3","P4","time","P5","sum","EditBtn","width","height","href","svg","DelBtn","onClick","transactionId","_id","transactionComment","deleteTransactionThunk","toast","PEr","Navigate","to"],"sourceRoot":""}