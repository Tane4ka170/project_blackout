{"version":3,"file":"static/js/346.86d0274e.chunk.js","mappings":"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","sources":["pages/Income/Income.jsx"],"sourcesContent":["import { Filter } from 'components/filter/Filter';\nimport { selectFilter, selectStartDate } from 'redux/filter/filterSelector';\nimport {\n  deleteTransactionThunk,\n  getTransactionsThunk,\n} from 'redux/transactions/operations';\nimport { selectTransaction } from 'redux/transactions/selectors';\nimport { SectionTransaction } from 'components/sectionTransactionList/sectionTransaction';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport {\n  DIV,\n  DIV375,\n  DIVL,\n  DIVMAIN,\n  DIVTR,\n  DelBtn,\n  EditBtn,\n  H2,\n  LI,\n  MainWr,\n  P1,\n  P2,\n  P3,\n  P4,\n  P5,\n  PEr,\n  PH,\n  TransactionsContainer,\n  ULL,\n} from './Income.styled';\nimport { TotalExpense, TotalIncome } from 'shared/Total';\nimport svg from '../../images/Sprite.svg';\nimport { motion } from 'framer-motion';\nimport { selectIsLoggedIn } from 'redux/auth/selectors';\nimport { Navigate } from 'react-router-dom';\n\nexport const Income = () => {\n  const dispatch = useDispatch();\n  const filter = useSelector(selectFilter);\n\n  const isLoggedIn = useSelector(selectIsLoggedIn);\n  const transactions = useSelector(selectTransaction);\n  const date = useSelector(selectStartDate);\n\n  const formattedDate = `${date.year}-${String(date.month).padStart(\n    2,\n    '0'\n  )}-${String(date.day).padStart(2, '0')}`;\n\n  useEffect(() => {\n    // const nowDate = new Date();\n    // if (!date) {\n    //   const year = nowDate.getFullYear();\n    //   const month = nowDate.getMonth() + 1;\n    //   const day = nowDate.getDate();\n    //   dispatch(\n    //     getTransactionsThunk({ type: 'incomes', date: { year, month, day } })\n    //   );\n    // }\n    dispatch(getTransactionsThunk({ type: 'incomes', date: formattedDate }));\n  }, [dispatch, filter, formattedDate, date]);\n\n  const handleDelete = (transactionId, transactionComment) => {\n    dispatch(deleteTransactionThunk(transactionId));\n    toast.success(`Transaction ${transactionComment} was deleted`);\n  };\n\n  const filterTransactions = transactions.filter(transaction =>\n    transaction.comment\n      .toLowerCase()\n      .trim()\n      .includes(filter.toLowerCase().trim())\n  );\n\n  if (!isLoggedIn) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  const isDeletedCategory = (catName) => {\n    if (!catName) {\n      return `Deleted Category`\n    }\n    return catName;\n  };\n\n  return (\n    <MainWr>\n      <DIVMAIN>\n        <DIVL>\n          <H2>All Income</H2>\n          <PH>\n            Track and celebrate every bit of earnings effortlessly! Gain\n            insights into your total revenue in a snap.\n          </PH>\n        </DIVL>\n\n        <ULL>\n          <LI>\n            <TotalIncome />\n          </LI>\n          <LI>\n            <TotalExpense />\n          </LI>\n        </ULL>\n      </DIVMAIN>\n      <motion.div\n        initial={{ y: '100%' }}\n        animate={{ y: 0 }}\n        transition={{ type: 'spring', stiffness: 200, damping: 20 }}\n      >\n        <DIVTR>\n          <Filter />\n          <DIV375>\n            <SectionTransaction />\n            {filterTransactions?.length ? (\n              <TransactionsContainer>\n                {filterTransactions?.map(transaction => (\n                  <DIV key={transaction._id}>\n                    <P1>{isDeletedCategory(transaction.category?.categoryName)}</P1>\n                    <P2>{transaction.comment}</P2>\n                    <P3>{transaction.date}</P3>\n                    <P4>{transaction.time}</P4>\n                    <P5>{transaction.sum} / UAH</P5>\n                    <EditBtn>\n                      <svg width={16} height={16}>\n                        <use href={svg + '#icon-edit-2'}></use>\n                      </svg>\n                      <span>Edit</span>\n                    </EditBtn>\n                    <DelBtn\n                      onClick={() =>\n                        handleDelete(transaction._id, transaction.comment)\n                      }\n                    >\n                      <svg width={16} height={16}>\n                        <use href={svg + '#icon-trash-2'}></use>\n                      </svg>\n                      <span>Delete</span>\n                    </DelBtn>\n                  </DIV>\n                ))}\n              </TransactionsContainer>\n            ) : null}\n            {filter.trim().length > 0 && !filterTransactions.length && (\n              <PEr>\n                We couldn't find any transactions matching your request.\n              </PEr>\n            )}\n          </DIV375>\n        </DIVTR>\n      </motion.div>\n    </MainWr>\n  );\n};\nexport default Income;\n"],"names":["Income","dispatch","useDispatch","filter","useSelector","selectFilter","isLoggedIn","selectIsLoggedIn","transactions","selectTransaction","date","selectStartDate","formattedDate","concat","year","String","month","padStart","day","useEffect","getTransactionsThunk","type","filterTransactions","transaction","comment","toLowerCase","trim","includes","_jsx","Navigate","to","_jsxs","MainWr","children","DIVMAIN","DIVL","H2","PH","ULL","LI","TotalIncome","TotalExpense","motion","initial","y","animate","transition","stiffness","damping","DIVTR","Filter","DIV375","SectionTransaction","length","TransactionsContainer","map","_transaction$category","catName","DIV","P1","category","categoryName","P2","P3","P4","time","P5","sum","EditBtn","width","height","href","svg","DelBtn","onClick","transactionId","_id","transactionComment","deleteTransactionThunk","toast","PEr"],"sourceRoot":""}