{"version":3,"file":"static/js/783.2112a782.chunk.js","mappings":"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","sources":["components/doughnut/Doughnut.styled.js","components/doughnut/Doughnut.jsx","pages/MainTransactionsPage/MainTransactionsPage.styled.js","pages/MainTransactionsPage/MainTransactionsPage.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  width: 335px;\n  height: 471px;\n  padding: 28px 22px 0 21px;\n  border-radius: 30px;\n  background: #171719;\n  color: rgba(250, 250, 250, 0.5);\n\n  @media only screen and ((min-width: 768px) and (max-width:1439.98px)) {\n    width: 704px;\n    height: 302px;\n    display: flex;\n    flex-direction: column;\n    gap: 37px;\n  }\n\n  @media only screen and (min-width: 1440px) {\n    width: 630px;\n    height: 302px;\n    display: flex;\n    flex-direction: column;\n    gap: 37px;\n    padding: 40px 40px 0 40px;\n  }\n`;\n\nexport const TitleStyled = styled.p`\n  margin-bottom: 55px;\n\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n\n  @media only screen and (min-width: 768px) {\n    color: rgba(250, 250, 250, 0.5);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: normal;\n  }\n`;\n\nexport const MainWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 40px;\n  @media only screen and ((min-width: 768px) and (max-width:1439.98px)) {\n    flex-direction: row;\n  }\n  @media only screen and (min-width: 1440px) {\n    flex-direction: row;\n    gap: 40px;\n  }\n`;\n\nexport const DoughnutWrapper = styled.div`\n  width: 292px;\n  height: 142px;\n`;\n\nexport const ListWrapper = styled.div`\n  width: 292px;\n  max-height: 126px;\n\n  overflow-x: hidden;\n  overflow-y: auto;\n  scroll-behavior: smooth;\n  scrollbar-color: #444446 #0c0d0d;\n\n  & ::-webkit-scrollbar-thumb {\n    width: 6px;\n    height: 64px;\n    border-radius: 12px;\n    background-color: #0c0d0d;\n  }\n  & ::-webkit-scrollbar-track {\n    width: 6px;\n    height: 126px;\n    border-radius: 12px;\n    background-color: #444446;\n  }\n\n  @media only screen and (min-width: 1440px) {\n    width: 217px;\n  }\n`;\n\nexport const ListStyled = styled.ul`\n  width: 230px;\n  display: inline-flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 14px;\n  list-style-type: none;\n  padding-left: 20px;\n  padding-right: 20px;\n`;\n\nexport const ItemStyled = styled.li`\n  width: 269px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  padding-left: 8px;\n\n  & ::before {\n    content: 'â€¢';\n    color: ${props => props.color || 'black'};\n    font-size: 30px;\n    position: absolute;\n    top: -10px;\n    left: -10px;\n  }\n\n  & p {\n    color: rgba(250, 250, 250, 0.5);\n    font-family: Suisse Intl;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: normal;\n  }\n\n  & p:last-child {\n    margin-right: 20px;\n    margin-left: auto;\n    color: #fafafa;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n  }\n\n  @media only screen and ((min-width: 768px) and (max-width:1439.98px)) {\n    width: 269px;\n  }\n\n  @media only screen and (min-width: 1440px) {\n    width: 191px;\n  }\n`;\n\nexport const StatisticsPlug = styled.p`\n  font-size: 16px;\n  margin-top: 140px;\n  text-align: center;\n\n  @media only screen and (min-width: 768px) {\n    font-size: 18px;\n    margin-top: 40px;\n  }\n`;\n","import React, { useEffect, useRef, useState, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { Doughnut } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\n\nimport {\n  DoughnutWrapper,\n  ItemStyled,\n  ListStyled,\n  ListWrapper,\n  MainWrapper,\n  StatisticsPlug,\n  Wrapper,\n} from './Doughnut.styled';\nimport { selectTransaction } from 'redux/transactions/selectors';\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\nconst DoughnutComponent = () => {\n  const listRef = useRef(null);\n  const queryTransactions = useSelector(selectTransaction);\n  const [allSums, setAllSums] = useState(null);\n  const [items, setItems] = useState(null);\n\n  const colors = useMemo(() => {\n    return [\n      '#007E7E',\n      '#00FF00',\n      '#57FF57',\n      '#008A8A',\n      '#009A9A',\n      '#00C5C5',\n      '#006666',\n      '#00B2B2',\n      '#00DADA',\n      '#005C5C',\n      '#007272',\n      '#00E5E5',\n      '#004040',\n      '#00A5A5',\n      '#00F0F0',\n      '#003434',\n      '#009292',\n      '#00CDCD',\n      '#002E2E',\n      '#00FFFF',\n      '#001919',\n      '#00D5D5',\n      '#006262',\n      '#003D3D',\n      '#00AAAA',\n      '#002323',\n      '#00BFBF',\n      '#00ECEC',\n      '#004747',\n      '#00F5F5',\n      '#000A0A',\n      '#00CACA',\n      '#005353',\n      '#00F2F2',\n      '#008080',\n      '#001E1E',\n      '#00F7F7',\n      '#000505',\n      '#00A9A9',\n      '#009090',\n      '#000000',\n    ];\n  }, []);\n\n  const chartOptions = {\n    hoverOffset: [20],\n    rotation: [-90],\n    circumference: [180],\n    maintainAspectRatio: false,\n    width: [280],\n    height: [140],\n  };\n\n  const [chartData, setChartData] = useState({\n    labels: [],\n    datasets: [\n      {\n        label: '',\n        data: [0],\n        backgroundColor: colors,\n        borderWidth: 1,\n      },\n    ],\n  });\n\n  const handleChartHover = elements => {\n    if (elements.length > 0) {\n      const clickedElement = elements[0];\n      const index = clickedElement.index;\n\n      if (listRef.current) {\n        const listItem = listRef.current.querySelector(`[data-id=\"${index}\"]`);\n\n        if (listItem) {\n          listItem.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'center',\n          });\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (queryTransactions) {\n      const categorySums = {};\n\n      queryTransactions.forEach(item => {\n        const categoryName = item.category?.categoryName;\n\n        if (categoryName) {\n          if (categorySums[categoryName]) {\n            categorySums[categoryName] += item.sum;\n          } else {\n            categorySums[categoryName] = item.sum;\n          }\n        }\n      });\n\n      const totalSum = queryTransactions.reduce(\n        (acc, item) => acc + item.sum,\n        0\n      );\n\n      const items = Object.keys(categorySums).map(categoryName => ({\n        category: { categoryName },\n        sum: categorySums[categoryName],\n        percentage: ((categorySums[categoryName] / totalSum) * 100).toFixed(2),\n      }));\n\n      setItems(items);\n    }\n  }, [queryTransactions]);\n\n  useEffect(() => {\n    if (items) {\n      const sumByCategory = items.reduce((acc, transaction) => {\n        const categoryName = transaction.category?.categoryName;\n        if (categoryName) {\n          acc[categoryName] = (acc[categoryName] || 0) + transaction.sum;\n        }\n        return acc;\n      }, {});\n\n      const sortedItems = [...items].sort((a, b) =>\n        a.category.categoryName > b.category.categoryName ? 1 : -1\n      );\n\n      const newData = Object.values(sumByCategory);\n\n      setChartData(prevData => ({\n        labels: [],\n        datasets: [\n          {\n            data: newData,\n            backgroundColor: [\n              ...(prevData.datasets[0]?.backgroundColor || []),\n              colors,\n            ],\n            borderWidth: 0,\n          },\n        ],\n      }));\n\n      const totalSum = sortedItems.reduce(\n        (acc, transaction) => acc + transaction.sum,\n        0\n      );\n      setAllSums(totalSum);\n    }\n  }, [colors, items]);\n\n  return (\n    <Wrapper>\n      <h2>Expenses categories</h2>\n      {!items?.length && (\n        <StatisticsPlug>\n          Add at least 1 expense to see \"doughnut\" chart hereðŸ“Š\n        </StatisticsPlug>\n      )}\n      <MainWrapper>\n        <DoughnutWrapper>\n          <Doughnut\n            data={chartData}\n            options={{\n              ...chartOptions,\n              onHover: (_, elements) => handleChartHover(elements),\n            }}\n          />\n        </DoughnutWrapper>\n        <ListWrapper ref={listRef}>\n          <ListStyled>\n            {items?.map((transaction, index) => (\n              <ItemStyled\n                data-id={index}\n                key={index}\n                color={chartData.datasets[0]?.backgroundColor[index]}\n              >\n                <p>{transaction.category?.categoryName}</p>\n                <p>{`${((transaction.sum / allSums) * 100).toFixed(2)}%`}</p>\n              </ItemStyled>\n            ))}\n          </ListStyled>\n        </ListWrapper>\n      </MainWrapper>\n    </Wrapper>\n  );\n};\n\nexport default DoughnutComponent;\n","import styled from 'styled-components';\n\n// section\nexport const StyledSection = styled.section`\n  width: 375px;\n  padding-left: 20px;\n  padding-right: 20px;\n  padding-bottom: 80px;\n  margin-right: auto;\n  margin-left: auto;\n\n  margin-top: 66px;\n\n  @media only screen and ((min-width: 768px) and ( max-width: 1439.98px)) {\n    width: 768px;\n    padding-left: 32px;\n    padding-right: 32px;\n    padding-bottom: 80px;\n    margin-top: 59px;\n  }\n\n  @media only screen and (min-width: 1440px) {\n    width: 1440px;\n    padding-left: 100px;\n    padding-right: 100px;\n    padding-bottom: 50px;\n\n    display: flex;\n    gap: 44px;\n    margin-top: 59px;\n  }\n`;\n\n// headers\nexport const StyledHeadersWrapper = styled.div`\n  width: 335px;\n  margin-bottom: 40px;\n\n  @media only screen and ((min-width: 768px) and ( max-width: 1439.98px)) {\n    width: 500px;\n  }\n\n  @media only screen and (min-width: 1440px) {\n    width: 630px;\n  }\n`;\n\nexport const StyledHeaders = styled.h1`\n  margin-bottom: 20px;\n\n  color: #fafafa;\n  font-weight: 400;\n  font-size: 32px;\n  letter-spacing: -0.02em;\n  line-height: normal;\n\n  @media only screen and (min-width: 768px) {\n    margin-bottom: 15px;\n\n    font-size: 38px;\n  }\n`;\n\nexport const StyledText = styled.p`\n  color: rgba(250, 250, 250, 0.4);\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n  letter-spacing: -0.02em;\n\n  @media only screen and (min-width: 768px) {\n    font-size: 16px;\n  }\n  @media only screen and (min-width: 1440px) {\n    width: 570px;\n  }\n`;\n\n// total expense & income\n\nexport const StyledTotalUl = styled.ul`\n  width: 335px;\n  padding: 0;\n\n  display: flex;\n  gap: 12px;\n  flex-direction: column;\n\n  list-style: none;\n\n  margin-bottom: 40px;\n\n  @media only screen and ((min-width: 768px) and ( max-width: 1439.98px)) {\n    width: 701px;\n\n    flex-direction: row;\n\n    gap: 0;\n    justify-content: space-between;\n  }\n\n  @media only screen and (min-width: 1440px) {\n    width: 630px;\n\n    gap: 24px;\n    flex-direction: row;\n  }\n`;\n\nexport const StyledMain = styled.main`\n  width: 630px;\n  width: 335px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 40px;\n\n  @media only screen and (min-width: 1440px) {\n    flex-direction: row-reverse;\n    justify-content: flex-end;\n\n    gap: 0px;\n  }\n`;\n\nexport const StyledWrapper = styled.div`\n  width: 630px;\n`;\n","// base\nimport React, { useEffect } from 'react';\nimport { useMediaQuery } from 'react-responsive';\n\n// selectors\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectIsLoggedIn } from 'redux/auth/selectors.js';\n\n// components\nimport { TotalIncome, TotalExpense } from 'shared/Total';\nimport OperationForm from 'shared/OperationForm/OperationForm';\nimport DoughnutComponent from 'components/doughnut/Doughnut';\n\n// styled\nimport {\n  StyledHeaders,\n  StyledSection,\n  StyledText,\n  StyledHeadersWrapper,\n  StyledTotalUl,\n  StyledMain,\n  StyledWrapper,\n} from './MainTransactionsPage.styled';\n\n// thunk's\nimport { getTransactionsThunk } from 'redux/transactions/operations';\nimport { Navigate } from 'react-router-dom';\nimport { FramerMotion } from 'helpers/framer-motion';\n\nconst MainTransactionsPage = () => {\n  // adaptive design\n  const isNotDesktop = useMediaQuery({ query: '(max-width: 1439.98px' });\n  const isDesktop = useMediaQuery({ query: '(min-width: 1440px)' });\n\n  // dispatch to get all transactions\n  const isLoggedIn = useSelector(selectIsLoggedIn);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      dispatch(getTransactionsThunk({ type: 'expenses', date: '' }));\n    }\n  }, [dispatch, isLoggedIn]);\n\n  if (!isLoggedIn) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  return (\n    <StyledSection>\n      {isNotDesktop && (\n        <>\n          <FramerMotion $variant=\"mainTransactionsHeaderNotDesktop\">\n            <StyledHeadersWrapper>\n              <StyledHeaders>Expense log</StyledHeaders>\n              <StyledText>\n                Capture and organize every penny spent with ease! A clear view\n                of your financial habits at your fingertips.\n              </StyledText>\n            </StyledHeadersWrapper>\n          </FramerMotion>\n          <FramerMotion $variant=\"mainTransactionsListNotDesktop\">\n            <StyledTotalUl>\n              <li>\n                <TotalIncome />\n              </li>\n              <li>\n                <TotalExpense />\n              </li>\n            </StyledTotalUl>\n          </FramerMotion>\n          <FramerMotion $variant=\"operationForm\">\n            <OperationForm editData={null}/>\n          </FramerMotion>\n          <FramerMotion $variant=\"doughnut\">\n            <StyledMain>\n              <DoughnutComponent />\n            </StyledMain>\n          </FramerMotion>\n        </>\n      )}\n      {isDesktop && (\n        <>\n          <FramerMotion $variant=\"mainTransactionsInfoDesktop\">\n            <StyledWrapper>\n              <StyledHeadersWrapper>\n                <StyledHeaders>Expense log</StyledHeaders>\n                <StyledText>\n                  Capture and organize every penny spent with ease! A clear view\n                  of your financial habits at your fingertips.\n                </StyledText>\n              </StyledHeadersWrapper>\n              <StyledTotalUl>\n                <li>\n                  <TotalIncome />\n                </li>\n                <li>\n                  <TotalExpense />\n                </li>\n              </StyledTotalUl>\n              <StyledMain>\n                <DoughnutComponent />\n              </StyledMain>\n            </StyledWrapper>\n          </FramerMotion>\n          <FramerMotion $variant=\"operationForm\">\n            <OperationForm />\n          </FramerMotion>\n        </>\n      )}\n    </StyledSection>\n  );\n};\n\nexport default MainTransactionsPage;\n"],"names":["Wrapper","styled","_templateObject","_taggedTemplateLiteral","MainWrapper","_templateObject2","_templateObject3","DoughnutWrapper","_templateObject4","ListWrapper","_templateObject5","ListStyled","_templateObject6","ItemStyled","_templateObject7","props","color","StatisticsPlug","_templateObject8","ChartJS","ArcElement","Tooltip","Legend","listRef","useRef","queryTransactions","useSelector","selectTransaction","_useState","useState","_useState2","_slicedToArray","allSums","setAllSums","_useState3","_useState4","items","setItems","colors","useMemo","_useState5","labels","datasets","label","data","backgroundColor","borderWidth","_useState6","chartData","setChartData","useEffect","categorySums","forEach","item","_item$category","categoryName","category","sum","totalSum","reduce","acc","Object","keys","map","percentage","toFixed","sumByCategory","transaction","_transaction$category","sortedItems","_toConsumableArray","sort","a","b","newData","values","prevData","_prevData$datasets$","concat","_jsxs","children","_jsx","length","Doughnut","options","_objectSpread","hoverOffset","rotation","circumference","maintainAspectRatio","width","height","onHover","_","elements","index","current","listItem","querySelector","scrollIntoView","behavior","block","inline","handleChartHover","ref","_chartData$datasets$","_transaction$category2","StyledSection","StyledHeadersWrapper","StyledHeaders","StyledText","StyledTotalUl","StyledMain","StyledWrapper","isNotDesktop","useMediaQuery","query","isDesktop","isLoggedIn","selectIsLoggedIn","dispatch","useDispatch","getTransactionsThunk","type","date","_Fragment","FramerMotion","$variant","TotalIncome","TotalExpense","OperationForm","editData","DoughnutComponent","Navigate","to"],"sourceRoot":""}